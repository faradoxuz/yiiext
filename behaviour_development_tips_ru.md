# protected vs private #
Если есть хоть малейшие сомнения по поводу «что же тут использовать», используйте protected.

# Работа с транзакциями #
Иногда при разработке поведений необходимо использовать транзакции. Если вы хотите дать возможность конечному пользователю самому управлять началом и концом транзакций, то используйте следующий pattern:
```
$db=$this->getOwner()->getDbConnection();
$extTransFlag=$db->getCurrentTransaction();

if($extTransFlag===null)
    $transaction=$db->beginTransaction();

try
{
    ...
    if($extTransFlag===null)
        $transaction->commit();
}
catch(Extension $e)
{
    if($extTransFlag===null)
        $transaction->rollBack();
    ...
}
```

# Избегайте магии в расширениях #
Основная задача расширений - просто выполнять работу. Желательно делать это наиболее быстрым способом, поэтому например в поведениях вместо свойств($this->owner) лучше использовать методы напрямую($this->getOwner()). Это немного, но быстрее.

# Категория для Yii::t() #
При выводе любого плана сообщений, необходимо оборачивать их в метод Yii::t(). При этом используемая категория должна быть 'yiiext'.